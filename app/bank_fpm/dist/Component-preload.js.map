{"version":3,"file":"Component-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":[],"sources":["Component-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}},{"offset":{"line":3,"column":0},"map":{"version":3,"file":"Component.js","names":["Component","BaseComponent","extend","metadata","manifest"],"sources":["Component.ts"],"sourcesContent":["import BaseComponent from \"sap/fe/core/AppComponent\";\n\n/**\n * @namespace bankfpm\n */\nexport default class Component extends BaseComponent {\n\n\tpublic static metadata = {\n\t\tmanifest: \"json\"\n\t};\n\n    /**\n     * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\n     * @public\n     * @override\n     */\n\t//public init() : void {\n    //    super.init();\n\t//}\n}"],"mappings":"AAAA,iFAEA,IAGqBA,EAAkBC,EAAaC,OAAA,qBAErCC,SAAW,CACxBC,SAAU,UACV,OAJmBJ,CAAS","sourceRoot":""}},{"offset":{"line":6,"column":0},"map":{"version":3,"file":"Main.controller.js","names":["Main","Controller","extend","onCreatePress","_onCreatePress","_this","this","Promise","resolve","getExtensionAPI","getEditFlow","createDocument","creationMode","then","table","byId","refresh","e","reject"],"sources":["Main.controller.ts"],"sourcesContent":["import Controller from \"sap/fe/core/PageController\";\nimport Table from \"sap/fe/macros/table/TableAPI\";\n\n/**\n * @namespace bankfpm.ext.main.Main.controller\n */\nexport default class Main extends Controller {\n\n    /**\n     * Called when a controller is instantiated and its View controls (if available) are already created.\n     * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.\n     * @memberOf bankfpm.ext.main.Main\n     */\n    // public onInit(): void {\n    //\n    //}\n\n    /**\n     * Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered\n     * (NOT before the first rendering! onInit() is used for that one!).\n     * @memberOf bankfpm.ext.main.Main\n     */\n    // public  onBeforeRendering(): void {\n    //\n    //  }\n\n    /**\n     * Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.\n     * This hook is the same one that SAPUI5 controls get after being rendered.\n     * @memberOf bankfpm.ext.main.Main\n     */\n    // public  onAfterRendering(): void {\n    //\n    //  }\n\n    /**\n     * Called when the Controller is destroyed. Use this one to free resources and finalize activities.\n     * @memberOf bankfpm.ext.main.Main\n     */\n    // public onExit(): void {\n    //\n    //  }\n\n    async onCreatePress(): Promise<void> {\n        await this.getExtensionAPI()\n          .getEditFlow()\n          .createDocument(\"/Banks\", { creationMode: \"NewPage\" });\n    \n        const table = this.byId(\"idTable\") as Table;\n        table.refresh();\n      }\n}"],"mappings":"AAAA,mFAGA,IAGqBA,EAAaC,EAAUC,OAAA,yCAqClCC,cAAa,SAAAC,IAAA,IAAkB,IAAAC,EAC3BC,KAAI,OAAAC,QAAAC,QAAJH,EAAKI,kBACRC,cACAC,eAAe,SAAU,CAAEC,aAAc,aAAYC,KAAA,WAExD,IAAMC,EAAQT,EAAKU,KAAK,WACxBD,EAAME,SAAU,EAClB,CAAC,MAAAC,GAAA,OAAAV,QAAAW,OAAAD,EAAA,YA5CcjB,CAAI","sourceRoot":"ext/main"}},{"offset":{"line":10,"column":0},"map":{"version":3,"file":"Details.controller.js","names":["Details","Controller","extend","onModelContextChange","_onModelContextChange","_this$getView","_this","this","context","getView","getBindingContext","Promise","resolve","requestProperty","then","isActiveEntity","undefined","_this$getView2","uiModel","getModel","setProperty","e","reject","resetWizard","_resetWizard","wizard","byId","firstStep","setCurrentStep","refreshTable","_refreshTable","table","Core","refresh","onSavePress","_onSavePress","_this2$getView","_this2","getExtensionAPI","getEditFlow","saveDocument","onEditPress","_onEditPress","_this3$getView","_this3","editDocument","onCancelPress","_onCancelPress","event","_this4$getView","_this4","hasActiveEntity","cancelDocument","control","getSource","_temp","getRouting","navigateToRoute"],"sources":["Details.controller.ts"],"sourcesContent":["import Controller from \"sap/fe/core/PageController\";\nimport Table from \"sap/fe/macros/table/TableAPI\";\nimport Wizard from \"sap/m/Wizard\";\nimport WizardStep from \"sap/m/WizardStep\";\nimport Event from \"sap/ui/base/Event\";\nimport Core from \"sap/ui/core/Core\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Context from \"sap/ui/model/odata/v4/Context\";\n\n/**\n * @namespace bankfpm.ext.view.Details.controller\n */\nexport default class Details extends Controller {\n\n    /**\n     * Called when a controller is instantiated and its View controls (if available) are already created.\n     * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.\n     * @memberOf bankfpm.ext.view.Details\n     */\n    // public onInit(): void {\n    //\n    //}\n\n    /**\n     * Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered\n     * (NOT before the first rendering! onInit() is used for that one!).\n     * @memberOf bankfpm.ext.view.Details\n     */\n    // public  onBeforeRendering(): void {\n    //\n    //  }\n\n    /**\n     * Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.\n     * This hook is the same one that SAPUI5 controls get after being rendered.\n     * @memberOf bankfpm.ext.view.Details\n     */\n    // public  onAfterRendering(): void {\n    //\n    //  }\n\n    /**\n     * Called when the Controller is destroyed. Use this one to free resources and finalize activities.\n     * @memberOf bankfpm.ext.view.Details\n     */\n    // public onExit(): void {\n    //\n    //  }\n\n\n    async onModelContextChange(): Promise<void> {\n        const context = this.getView()?.getBindingContext() as Context;\n        const isActiveEntity = await context?.requestProperty(\"IsActiveEntity\");\n\n        if (isActiveEntity !== undefined) {\n            const uiModel = this.getView()?.getModel(\"ui\") as JSONModel;\n            uiModel.setProperty(\"/isEditable\", !isActiveEntity);\n        }\n    }\n\n    private resetWizard(): void {\n        const wizard = this.byId(\"wizard\") as Wizard;\n        const firstStep = this.byId(\"wizardStep1\") as WizardStep;\n        wizard.setCurrentStep(firstStep);\n    }\n\n    private refreshTable(): void {\n        const table = Core.byId(\"bankfpm::BanksMain--idTable\",) as Table;\n        table?.refresh();\n    }\n\n    async onSavePress(): Promise<void> {\n        const context = this.getView()?.getBindingContext() as Context;\n\n        await this.getExtensionAPI().getEditFlow().saveDocument(context);\n\n        this.resetWizard();\n        this.refreshTable();\n    }\n\n    async onEditPress(): Promise<void> {\n        const context = this.getView()?.getBindingContext() as Context;\n\n        await this.getExtensionAPI().getEditFlow().editDocument(context);\n\n        this.resetWizard();\n        this.refreshTable();\n    }\n\n    async onCancelPress(event: Event): Promise<void> {\n        const context = this.getView()?.getBindingContext() as Context;\n        const hasActiveEntity = await context.requestProperty(\"HasActiveEntity\");\n\n        await this.getExtensionAPI()\n            .getEditFlow()\n            .cancelDocument(context, { control: event.getSource() });\n\n        this.resetWizard();\n        this.refreshTable();\n\n        if (!hasActiveEntity) {\n            await this.getExtensionAPI().getRouting().navigateToRoute(\"/\");\n        }\n    }\n}"],"mappings":"AAAA,wGASA,IAGqBA,EAAgBC,EAAUC,OAAA,+CAsCrCC,qBAAoB,SAAAC,IAAA,IAAkB,IAAAC,EAAA,IAAAC,EACxBC,KAAhB,IAAMC,GAAOH,EAAGC,EAAKG,aAAS,MAAAJ,SAAA,SAAdA,EAAgBK,oBAA+B,OAAAC,QAAAC,QAClCJ,IAAO,MAAPA,SAAO,SAAPA,EAASK,gBAAgB,mBAAiBC,KAAA,SAAjEC,GAAc,GAEhBA,IAAmBC,UAAS,KAAAC,EAC5B,IAAMC,GAAOD,EAAGX,EAAKG,aAAS,MAAAQ,SAAA,SAAdA,EAAgBE,SAAS,MACzCD,EAAQE,YAAY,eAAgBL,EAAgB,GAE5D,CAAC,MAAAM,GAAA,OAAAV,QAAAW,OAAAD,EAAA,GAEOE,YAAW,SAAAC,IACf,IAAMC,EAASlB,KAAKmB,KAAK,UACzB,IAAMC,EAAYpB,KAAKmB,KAAK,eAC5BD,EAAOG,eAAeD,EAC1B,EAEQE,aAAY,SAAAC,IAChB,IAAMC,EAAQC,EAAKN,KAAK,+BACxBK,IAAK,MAALA,SAAK,GAALA,EAAOE,SACX,EAEMC,YAAW,SAAAC,IAAA,IAAkB,IAAAC,EAAA,IAAAC,EACf9B,KAAhB,IAAMC,GAAO4B,EAAGC,EAAK5B,aAAS,MAAA2B,SAAA,SAAdA,EAAgB1B,oBAA+B,OAAAC,QAAAC,QAEzDyB,EAAKC,kBAAkBC,cAAcC,aAAahC,IAAQM,KAAA,WAEhEuB,EAAKd,cACLc,EAAKR,cAAe,EACxB,CAAC,MAAAR,GAAA,OAAAV,QAAAW,OAAAD,EAAA,GAEKoB,YAAW,SAAAC,IAAA,IAAkB,IAAAC,EAAA,IAAAC,EACfrC,KAAhB,IAAMC,GAAOmC,EAAGC,EAAKnC,aAAS,MAAAkC,SAAA,SAAdA,EAAgBjC,oBAA+B,OAAAC,QAAAC,QAEzDgC,EAAKN,kBAAkBC,cAAcM,aAAarC,IAAQM,KAAA,WAEhE8B,EAAKrB,cACLqB,EAAKf,cAAe,EACxB,CAAC,MAAAR,GAAA,OAAAV,QAAAW,OAAAD,EAAA,GAEKyB,cAAa,SAAAC,EAACC,GAAY,IAAiB,IAAAC,EAAA,IAAAC,EAC7B3C,KAAhB,IAAMC,GAAOyC,EAAGC,EAAKzC,aAAS,MAAAwC,SAAA,SAAdA,EAAgBvC,oBAA+B,OAAAC,QAAAC,QACjCJ,EAAQK,gBAAgB,oBAAkBC,KAAA,SAAlEqC,GAAe,OAAAxC,QAAAC,QAEfsC,EAAKZ,kBACNC,cACAa,eAAe5C,EAAS,CAAE6C,QAASL,EAAMM,eAAcxC,KAAA,WAE5DoC,EAAK3B,cACL2B,EAAKrB,eAAe,IAAA0B,EAAA,eAEfJ,EAAe,QAAAxC,QAAAC,QACVsC,EAAKZ,kBAAkBkB,aAAaC,gBAAgB,MAAI3C,KAAA,eAH9C,GAG8C,GAAAyC,KAAAzC,KAAA,OAAAyC,EAAAzC,KAAA,iBAEtE,CAAC,MAAAO,GAAA,OAAAV,QAAAW,OAAAD,EAAA,YA3FgBrB,CAAO","sourceRoot":"ext/view"}}]}